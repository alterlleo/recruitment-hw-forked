CLAIM:
TODO: study better how check the power limit from the allegro sensor output.
--
--

voltage divider: ad633 output value is (x1-x2)(y1-y2)/10V, but (x1-x2) is the output of the allegro sensor. It is also the load current multiplied by sensibility S. So the ad633 output is a value proportioned to the load power, in particular is the value of load power multiplied by S/10V=0.00264. So the Vref of LM393 must be the the power limit (500w) multiplied by the same costant. 500*0.00264=1.3. Now it is time to think the values of the resistances.


Now I have the output, it is better to add a LPF in order to erase bad oscillations.
in order to keep open the relay, the output of the comparator must trigger two transistor: one used to loop the comparator high and the other one to bypass the relay, so it will be open untill someone shut down the system.
